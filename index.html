<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <title>蜜儿生日快乐</title>
  <style>
    body { margin:0; padding:0; font-family:"Helvetica Neue",sans-serif;
      background: radial-gradient(circle,#fff0f5,#ffe4ec); color:#5c2c3d;
      text-align:center; overflow:hidden; }
    h1 { font-size:2.6em; margin-top:20px; text-shadow:1px 1px 3px rgba(255,192,203,0.5);
      animation:fadeIn 1.5s ease-out; }
    .heart { font-size:3em; margin-top:20px; color:#ff6b81;
      animation:pulse 1.5s infinite; }
    @keyframes pulse {0%,100%{transform:scale(1);}50%{transform:scale(1.3);}}
    .bless { font-size:1.8em; margin:40px 0; color:#d83f7a;
      white-space:nowrap; overflow:hidden; border-right:.15em solid pink;
      animation:typing 4s steps(20,end),blink .75s step-end infinite; }
    @keyframes typing{from{width:0;}to{width:100%;}}@keyframes blink{50%{border-color:pink;}}
    #countdown { font-size:1.4em; margin:30px auto; padding:30px;
      color:#a0445e; border-radius:50%;
      background:radial-gradient(circle,rgba(255,255,255,0.6),rgba(255,182,193,0.3));
      box-shadow:0 0 30px rgba(255,192,203,0.6); animation:glow 3s infinite ease-in-out; }
    @keyframes glow{0%{box-shadow:0 0 10px rgba(255,182,193,0.2);}
      50%{box-shadow:0 0 30px rgba(255,182,193,0.6);}100%{box-shadow:0 0 10px rgba(255,182,193,0.2);}}
    canvas{position:fixed;top:0;left:0;z-index:99;pointer-events:none;}
    #playBtn{font-size:18px;padding:12px 30px;margin-top:20px;
      background:#ff6b81;color:white;border:none;border-radius:25px;
      cursor:pointer;box-shadow:0 4px 10px rgba(255,107,129,0.6);}
    #playBtn:hover{background:#e34e63;}
    #lyrics{margin-top:12px;font-size:1.2em;color:#c0395f;font-style:italic;}
    .credit{position:absolute;bottom:20px;width:100%;font-size:0.9em;color:#af5a73;}
    @keyframes fadeIn{from{opacity:0;transform:translateY(-20px);}to{opacity:1;transform:translateY(0);}}
  </style>
</head>
<body>
  <canvas id="fireworks"></canvas>
  <div class="heart">❤️</div>
  <h1>蜜儿生日快乐</h1>
  <div class="bless">🎉 愿你开心快乐每一天 🎉</div>
  <div id="countdown">倒计时加载中…</div>
  <button id="playBtn">点击播放《枫》钢琴版</button>
  <div id="lyrics"></div>
  <audio id="bgm" loop>
    <source src="https://pixabay.com/music/search/piano/Silent%20Evening%20(Calm%20Piano)%20-%20Grand_Project.mp3" type="audio/mpeg">
  </audio>
  <div class="credit">miForever · 你是我永远的心事</div>
  <script>
    const audio = document.getElementById('bgm');
    const btn = document.getElementById('playBtn');
    const lyrics = document.getElementById('lyrics');
    btn.addEventListener('click', () => {
      audio.play();
      btn.style.display = 'none';
      lyrics.textContent = '我要的只是你在我身边';
    });

    function updateCountdown() {
      const now=new Date(), y=now.getFullYear();
      let b=new Date(`${y}-07-05T00:00:00`);
      if(now>b) b=new Date(`${y+1}-07-05T00:00:00`);
      const d=b-now, D=Math.floor(d/864e5), H=Math.floor(d/36e5%24),
            M=Math.floor(d/6e4%60), S=Math.floor(d/1e3%60);
      document.getElementById("countdown").innerText=
        `距离下一次生日还有 ${D} 天 ${H} 小时 ${M} 分 ${S} 秒`;
    }
    setInterval(updateCountdown,1000); updateCountdown();

    const c=document.getElementById("fireworks"), ctx=c.getContext("2d");
    let w=c.width=innerWidth, h=c.height=innerHeight;
    window.addEventListener("resize", () => { w=c.width=innerWidth; h=c.height=innerHeight; });
    const ps=[];
    function createFirework(x,y){
      for(let i=0;i<60;i++){
        ps.push({x,y,r:2,a:Math.random()*2*Math.PI,s:Math.random()*5+2,A:1,
                 d:Math.random()*0.02+0.008,c:`hsl(${Math.random()*360},100%,70%)`});
      }
    }
    function animate(){
      ctx.clearRect(0,0,w,h);
      for(let i=ps.length-1;i>=0;i--){
        const p=ps[i];
        p.x+=Math.cos(p.a)*p.s; p.y+=Math.sin(p.a)*p.s; p.A-=p.d;
        if(p.A<=0) ps.splice(i,1);
        else{
          ctx.globalAlpha=p.A;
          ctx.beginPath(); ctx.arc(p.x,p.y,p.r,0,2*Math.PI);
          ctx.fillStyle=p.c; ctx.fill();
        }
      }
      requestAnimationFrame(animate);
    }
    animate(); document.addEventListener("click", e=>createFirework(e.clientX,e.clientY));
  </script>
</body>
</html>
